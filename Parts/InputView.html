<script type="text/javascript">
function TryClose() {
	var x = document.getElementById("val").value;

	var arg = window.dialogArguments;
	if (arg.f(x)) {
		arg.Value = x;
		window.close();
	} else {
		var lb = document.getElementById("label");
		lb.style.color = "red";
	}
}

function setLabel() {
	var lb = document.getElementById("label");

	var arg = window.dialogArguments;
	lb.innerHTML = arg.label;
}
</script>
<style type="text/css">
input {
	float: left;
}
</style>
<body onload="setLabel();">
	<div id="label" >&nbsp;</div>
	<input id="val" >
	<input type=button value="OK" onclick="TryClose();" >
</body>
